<form [formGroup]="form" (ngSubmit)="save(form)">
  <mat-form-field>
    <input type="text" matInput placeholder="Номер" [(ngModel)]="item.id" formControlName="id" #id>
    <mat-hint align="start" *ngIf="!id.value">Будет присвоен после создания</mat-hint>
  </mat-form-field>
  <mat-form-field>
    <input type="text" matInput placeholder="Название" [(ngModel)]="item.name" formControlName="name">
    <mat-error>Это обязательное поле</mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-select placeholder="Зона" [value]="item?.zone?.id" formControlName="zone" (valueChange)="selectZone($event)">
      <mat-option *ngFor="let zone of availableZones | async" [value]="zone.id">
        {{zone?.name}} ({{zone?.addressStarGate?.physicalName}})
        <sgc-glyph [name]="zone?.addressStarGate?.glyph1?.name">
        </sgc-glyph>
        <sgc-glyph [name]="zone?.addressStarGate?.glyph2?.name">
        </sgc-glyph>
        <sgc-glyph [name]="zone?.addressStarGate?.glyph3?.name">
        </sgc-glyph>
        <sgc-glyph [name]="zone?.addressStarGate?.glyph4?.name">
        </sgc-glyph>
        <sgc-glyph [name]="zone?.addressStarGate?.glyph5?.name">
        </sgc-glyph>
        <sgc-glyph [name]="zone?.addressStarGate?.glyph6?.name">
        </sgc-glyph>
        <sgc-glyph [name]="zone?.addressStarGate?.glyph7?.name">
        </sgc-glyph>
      </mat-option>
    </mat-select>
    <mat-error>Это обязательное поле</mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-select placeholder="Команда" [value]="item?.command?.id" formControlName="command" (valueChange)="selectCommand($event)">
      <mat-option *ngFor="let command of availableCommands | async" [value]="command.id">
        {{command?.name}}
      </mat-option>
    </mat-select>
    <mat-error>Это обязательное поле</mat-error>
  </mat-form-field>
  <mat-form-field>
    <input matInput
           [matDatepicker]="dateDeparture"
           [min]="now"
           placeholder="Дата отправления"
           formControlName="dateDeparture"
           readonly>
    <mat-datepicker-toggle matSuffix [for]="dateDeparture"></mat-datepicker-toggle>
    <mat-datepicker #dateDeparture></mat-datepicker>
  </mat-form-field>
  <mat-form-field>
    <textarea placeholder="Описание"
              formControlName="description"
              [(ngModel)]="item.description"
              mat-autosize
              matInput></textarea>
  </mat-form-field>
  <button type="submit" mat-raised-button color="primary">
    Сохранить
  </button>
</form>
